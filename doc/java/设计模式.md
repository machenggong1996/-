# 设计模式

## 1. 设计模式七大原则

1. 单一职责
2. 接口隔离
3. 依赖倒转
4. 里式替换
5. 开闭原则 ocp
6. 迪米特法则
7. 合成复用

### 1.1 单一职责原则

一个类只负责一项原则

1. 降低类的复杂度，一个类只负责一项职责
2. 提高类的可读性，可维护性
3. 降低变更引起的风险
4. 只有逻辑足够简单，才可以在代码级别违反单一原则

### 1.2 接口隔离原则

1. 一个类对另一个类的依赖建立在最小接口

### 1.3 依赖倒转原则 DIP

1. 高层次模块不应依赖低层次
2. 抽象不应该依赖细节，细节应该依赖抽象
3. 中心思想是面向接口编程
4. 抽象的东西要稳定的多，抽象指的是接口或者抽象类，细节是实现类完成

使用构造器 set方法进行依赖传递 接口传递 spring依赖倒转使用的就是这三种

#### 1.3.1 小结

1. 低层模块尽量使用抽象类或者接口
2. 变量的声明类型尽量是接口或者抽象类，有利于扩展和优化
3. 遵循里式替换原则

### 1.4 里式替换原则 LSP

继承出现问题，如果父类修改可能会导致子类出问题

1. 子类尽量不要重写父类方法
2. 继承实际上将两个类的耦合性增强了，可以通过聚合，组合，依赖来解决问题，使用一个更基础的类

### 1.5 开闭原则 OCP

1. 一个软件实体，如类，模块，函数应该对扩展开发，修改关闭
2. 当用抽象构建框架，用实现扩展细节
3. 当软件功能发生变化时，尽量通过扩展软件实体的行为来实现变化，而不是通过修改已有的代码来实现

#### 1.5.1 小结

建立抽象类，使用多态

### 1.6 迪米特法则 DP 最少知道原则

1. 一个对象应对其他对象保持最少的理解
2. 类与类关系越密切，耦合度越大
3. 对外除了提供public方法，不对外泄漏任何信息
4. 只与直接的朋友进行通信
5. 直接的朋友：每个对象都会有耦合关系，只要两个对象之间有耦合关系，我们就说这两个对象是朋友关系，成员变量，方法参数，方法返回值
6. 局部变量中的类不是直接的朋友

#### 1.6.1 细节

1. 降低耦合度

### 1.7 合成复用原则

1. 尽量使用合成和聚合的方式，而不是使用继承
